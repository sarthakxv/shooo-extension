(()=>{"use strict";var e=function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function c(e){try{s(o.next(e))}catch(e){i(e)}}function d(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,d)}s((o=o.apply(e,t||[])).next())}))};const t={blockedUrls:[],redirectUrl:"https://google.com"},r={getSettings:()=>e(void 0,void 0,void 0,(function*(){try{return yield chrome.storage.sync.get(t)}catch(e){return console.error("Error getting settings:",e),t}})),saveSettings:t=>e(void 0,void 0,void 0,(function*(){try{yield chrome.storage.sync.set(t)}catch(e){console.error("Error saving settings:",e)}})),addBlockedUrl:t=>e(void 0,void 0,void 0,(function*(){try{const e=yield r.getSettings();return e.blockedUrls.includes(t)||(e.blockedUrls.push(t),yield r.saveSettings(e)),e.blockedUrls}catch(e){return console.error("Error adding blocked URL:",e),[]}})),removeBlockedUrl:t=>e(void 0,void 0,void 0,(function*(){try{const e=yield r.getSettings();return e.blockedUrls=e.blockedUrls.filter((e=>e!==t)),yield r.saveSettings(e),e.blockedUrls}catch(e){return console.error("Error removing blocked URL:",e),[]}})),updateRedirectUrl:t=>e(void 0,void 0,void 0,(function*(){try{const e=yield r.getSettings();e.redirectUrl=t,yield r.saveSettings(e)}catch(e){console.error("Error updating redirect URL:",e)}})),clearSettings:()=>e(void 0,void 0,void 0,(function*(){try{yield chrome.storage.sync.clear()}catch(e){console.error("Error clearing settings:",e)}}))};chrome.webNavigation.onBeforeNavigate.addListener((e=>{return t=void 0,o=void 0,i=function*(){const t=yield r.getSettings(),o=new URL(e.url);t.blockedUrls.some((e=>o.hostname.includes(e)||o.pathname.includes(e)))&&chrome.tabs.update(e.tabId,{url:t.redirectUrl})},new((n=void 0)||(n=Promise))((function(e,r){function c(e){try{s(i.next(e))}catch(e){r(e)}}function d(e){try{s(i.throw(e))}catch(e){r(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(c,d)}s((i=i.apply(t,o||[])).next())}));var t,o,n,i}))})();